const std = @import("std");
const wasm = @import("root.zig");
const data = @import("inst_data.zig");
const Reader = wasm.Reader;

pub const InstKind = @typeInfo(Inst).@"union".tag_type.?;

pub const Inst = union(enum) {
    @"unreachable",
    nop,
    block: data.BlockType,
    loop: data.BlockType,
    @"if": data.BlockType,
    @"else",
    end,
    br: u32,
    br_if: u32,
    br_table: data.BrTable,
    @"return",
    call: u32,
    call_indirect: data.TableOp,
    return_call: u32,
    return_call_indirect: data.TableOp,
    drop,
    select,
    select_t: data.SelectT,
    local_get: u32,
    local_set: u32,
    local_tee: u32,
    global_get: u32,
    global_set: u32,
    i32_load: data.MemOp,
    i64_load: data.MemOp,
    f32_load: data.MemOp,
    f64_load: data.MemOp,
    i32_load8_s: data.MemOp,
    i32_load8_u: data.MemOp,
    i32_load16_s: data.MemOp,
    i32_load16_u: data.MemOp,
    i64_load8_s: data.MemOp,
    i64_load8_u: data.MemOp,
    i64_load16_s: data.MemOp,
    i64_load16_u: data.MemOp,
    i64_load32_s: data.MemOp,
    i64_load32_u: data.MemOp,
    i32_store: data.MemOp,
    i64_store: data.MemOp,
    f32_store: data.MemOp,
    f64_store: data.MemOp,
    i32_store8: data.MemOp,
    i32_store16: data.MemOp,
    i64_store8: data.MemOp,
    i64_store16: data.MemOp,
    i64_store32: data.MemOp,
    memory_size: u32,
    memory_grow: u32,
    i32_const: i32,
    i64_const: i64,
    f32_const: f32,
    f64_const: f64,
    i32_eqz,
    i32_eq,
    i32_ne,
    i32_lt_s,
    i32_lt_u,
    i32_gt_s,
    i32_gt_u,
    i32_le_s,
    i32_le_u,
    i32_ge_s,
    i32_ge_u,
    i64_eqz,
    i64_eq,
    i64_ne,
    i64_lt_s,
    i64_lt_u,
    i64_gt_s,
    i64_gt_u,
    i64_le_s,
    i64_le_u,
    i64_ge_s,
    i64_ge_u,
    f32_eq,
    f32_ne,
    f32_lt,
    f32_gt,
    f32_le,
    f32_ge,
    f64_eq,
    f64_ne,
    f64_lt,
    f64_gt,
    f64_le,
    f64_ge,
    i32_clz,
    i32_ctz,
    i32_popcnt,
    i32_add,
    i32_sub,
    i32_mul,
    i32_div_s,
    i32_div_u,
    i32_rem_s,
    i32_rem_u,
    i32_and,
    i32_or,
    i32_xor,
    i32_shl,
    i32_shr_s,
    i32_shr_u,
    i32_rotl,
    i32_rotr,
    i64_clz,
    i64_ctz,
    i64_popcnt,
    i64_add,
    i64_sub,
    i64_mul,
    i64_div_s,
    i64_div_u,
    i64_rem_s,
    i64_rem_u,
    i64_and,
    i64_or,
    i64_xor,
    i64_shl,
    i64_shr_s,
    i64_shr_u,
    i64_rotl,
    i64_rotr,
    f32_abs,
    f32_neg,
    f32_ceil,
    f32_floor,
    f32_trunc,
    f32_nearest,
    f32_sqrt,
    f32_add,
    f32_sub,
    f32_mul,
    f32_div,
    f32_min,
    f32_max,
    f32_copysign,
    f64_abs,
    f64_neg,
    f64_ceil,
    f64_floor,
    f64_trunc,
    f64_nearest,
    f64_sqrt,
    f64_add,
    f64_sub,
    f64_mul,
    f64_div,
    f64_min,
    f64_max,
    f64_copysign,
    i32_wrap_i64,
    i32_trunc_f32_s,
    i32_trunc_f32_u,
    i32_trunc_f64_s,
    i32_trunc_f64_u,
    i64_extend_i32_s,
    i64_extend_i32_u,
    i64_trunc_f32_s,
    i64_trunc_f32_u,
    i64_trunc_f64_s,
    i64_trunc_f64_u,
    f32_convert_i32_s,
    f32_convert_i32_u,
    f32_convert_i64_s,
    f32_convert_i64_u,
    f32_demote_f64,
    f64_convert_i32_s,
    f64_convert_i32_u,
    f64_convert_i64_s,
    f64_convert_i64_u,
    f64_promote_f32,
    i32_reinterpret_f32,
    i64_reinterpret_f64,
    f32_reinterpret_i32,
    f64_reinterpret_i64,
    i32_extend8_s,
    i32_extend16_s,
    i64_extend8_s,
    i64_extend16_s,
    i64_extend32_s,
    i32_trunc_sat_f32_s,
    i32_trunc_sat_f32_u,
    i32_trunc_sat_f64_s,
    i32_trunc_sat_f64_u,
    i64_trunc_sat_f32_s,
    i64_trunc_sat_f32_u,
    i64_trunc_sat_f64_s,
    i64_trunc_sat_f64_u,
    memory_init: u32,
    data_drop: u32,
    memory_copy,
    memory_fill,
    table_init: data.TableOp,
    elem_drop: u32,
    table_copy: data.TableOp,
    table_get: u32,
    table_set: u32,
    table_grow: u32,
    table_size: u32,
    table_fill: u32,
    v128_load: data.MemOp,
    v128_load8x8_s: data.MemOp,
    v128_load8x8_u: data.MemOp,
    v128_load16x4_s: data.MemOp,
    v128_load16x4_u: data.MemOp,
    v128_load32x2_s: data.MemOp,
    v128_load32x2_u: data.MemOp,
    v128_load8_splat: data.MemOp,
    v128_load16_splat: data.MemOp,
    v128_load32_splat: data.MemOp,
    v128_load64_splat: data.MemOp,
    v128_store: data.MemOp,
    v128_const: u128,
    i8x16_shuffle: data.VecShuffle,
    i8x16_swizzle,
    i8x16_splat,
    i16x8_splat,
    i32x4_splat,
    i64x2_splat,
    f32x4_splat,
    f64x2_splat,
    i8x16_extract_lane_s: data.LaneOp,
    i8x16_extract_lane_u: data.LaneOp,
    i8x16_replace_lane: data.LaneOp,
    i16x8_extract_lane_s: data.LaneOp,
    i16x8_extract_lane_u: data.LaneOp,
    i16x8_replace_lane: data.LaneOp,
    i32x4_extract_lane: data.LaneOp,
    i32x4_replace_lane: data.LaneOp,
    i64x2_extract_lane: data.LaneOp,
    i64x2_replace_lane: data.LaneOp,
    f32x4_extract_lane: data.LaneOp,
    f32x4_replace_lane: data.LaneOp,
    f64x2_extract_lane: data.LaneOp,
    f64x2_replace_lane: data.LaneOp,
    i8x16_eq,
    i8x16_ne,
    i8x16_lt_s,
    i8x16_lt_u,
    i8x16_gt_s,
    i8x16_gt_u,
    i8x16_le_s,
    i8x16_le_u,
    i8x16_ge_s,
    i8x16_ge_u,
    i16x8_eq,
    i16x8_ne,
    i16x8_lt_s,
    i16x8_lt_u,
    i16x8_gt_s,
    i16x8_gt_u,
    i16x8_le_s,
    i16x8_le_u,
    i16x8_ge_s,
    i16x8_ge_u,
    i32x4_eq,
    i32x4_ne,
    i32x4_lt_s,
    i32x4_lt_u,
    i32x4_gt_s,
    i32x4_gt_u,
    i32x4_le_s,
    i32x4_le_u,
    i32x4_ge_s,
    i32x4_ge_u,
    f32x4_eq,
    f32x4_ne,
    f32x4_lt,
    f32x4_gt,
    f32x4_le,
    f32x4_ge,
    f64x2_eq,
    f64x2_ne,
    f64x2_lt,
    f64x2_gt,
    f64x2_le,
    f64x2_ge,
    v128_not,
    v128_and,
    v128_andnot,
    v128_or,
    v128_xor,
    v128_bitselect,
    v128_any_true,
    v128_load8_lane: data.MemLaneOp,
    v128_load16_lane: data.MemLaneOp,
    v128_load32_lane: data.MemLaneOp,
    v128_load64_lane: data.MemLaneOp,
    v128_store8_lane: data.MemLaneOp,
    v128_store16_lane: data.MemLaneOp,
    v128_store32_lane: data.MemLaneOp,
    v128_store64_lane: data.MemLaneOp,
    v128_load32_zero: data.MemOp,
    v128_load64_zero: data.MemOp,
    f32x4_demote_f64x2_zero,
    f64x2_promote_low_f32x4,
    i8x16_abs,
    i8x16_neg,
    i8x16_popcnt,
    i8x16_all_true,
    i8x16_bitmask,
    i8x16_narrow_i16x8_s,
    i8x16_narrow_i16x8_u,
    i8x16_shl,
    i8x16_shr_s,
    i8x16_shr_u,
    i8x16_add,
    i8x16_add_sat_s,
    i8x16_add_sat_u,
    i8x16_sub,
    i8x16_sub_sat_s,
    i8x16_sub_sat_u,
    i8x16_min_s,
    i8x16_min_u,
    i8x16_max_s,
    i8x16_max_u,
    i8x16_avgr_u,
    i16x8_extadd_pairwise_i8x16_s,
    i16x8_extadd_pairwise_i8x16_u,
    i32x4_extadd_pairwise_i16x8_s,
    i32x4_extadd_pairwise_i16x8_u,
    i16x8_abs,
    i16x8_neg,
    i16x8_q15mulr_sat_s,
    i16x8_all_true,
    i16x8_bitmask,
    i16x8_narrow_i32x4_s,
    i16x8_narrow_i32x4_u,
    i16x8_extend_low_i8x16_s,
    i16x8_extend_high_i8x16_s,
    i16x8_extend_low_i8x16_u,
    i16x8_extend_high_i8x16_u,
    i16x8_shl,
    i16x8_shr_s,
    i16x8_shr_u,
    i16x8_add,
    i16x8_add_sat_s,
    i16x8_add_sat_u,
    i16x8_sub,
    i16x8_sub_sat_s,
    i16x8_sub_sat_u,
    i16x8_mul,
    i16x8_min_s,
    i16x8_min_u,
    i16x8_max_s,
    i16x8_max_u,
    i16x8_avgr_u,
    i16x8_extmul_low_i8x16_s,
    i16x8_extmul_high_i8x16_s,
    i16x8_extmul_low_i8x16_u,
    i16x8_extmul_high_i8x16_u,
    i32x4_abs,
    i32x4_neg,
    i32x4_all_true,
    i32x4_bitmask,
    i32x4_extend_low_i16x8_s,
    i32x4_extend_high_i16x8_s,
    i32x4_extend_low_i16x8_u,
    i32x4_extend_high_i16x8_u,
    i32x4_shl,
    i32x4_shr_s,
    i32x4_shr_u,
    i32x4_add,
    i32x4_sub,
    i32x4_mul,
    i32x4_min_s,
    i32x4_min_u,
    i32x4_max_s,
    i32x4_max_u,
    i32x4_dot_i16x8_s,
    i32x4_extmul_low_i16x8_s,
    i32x4_extmul_high_i16x8_s,
    i32x4_extmul_low_i16x8_u,
    i32x4_extmul_high_i16x8_u,
    i64x2_abs,
    i64x2_neg,
    i64x2_all_true,
    i64x2_bitmask,
    i64x2_extend_low_i32x4_s,
    i64x2_extend_high_i32x4_s,
    i64x2_extend_low_i32x4_u,
    i64x2_extend_high_i32x4_u,
    i64x2_shl,
    i64x2_shr_s,
    i64x2_shr_u,
    i64x2_add,
    i64x2_sub,
    i64x2_mul,
    i64x2_eq,
    i64x2_ne,
    i64x2_lt_s,
    i64x2_gt_s,
    i64x2_le_s,
    i64x2_ge_s,
    i64x2_extmul_low_i32x4_s,
    i64x2_extmul_high_i32x4_s,
    i64x2_extmul_low_i32x4_u,
    i64x2_extmul_high_i32x4_u,
    f32x4_ceil,
    f32x4_floor,
    f32x4_trunc,
    f32x4_nearest,
    f64x2_ceil,
    f64x2_floor,
    f64x2_trunc,
    f64x2_nearest,
    f32x4_abs,
    f32x4_neg,
    f32x4_sqrt,
    f32x4_add,
    f32x4_sub,
    f32x4_mul,
    f32x4_div,
    f32x4_min,
    f32x4_max,
    f32x4_pmin,
    f32x4_pmax,
    f64x2_abs,
    f64x2_neg,
    f64x2_sqrt,
    f64x2_add,
    f64x2_sub,
    f64x2_mul,
    f64x2_div,
    f64x2_min,
    f64x2_max,
    f64x2_pmin,
    f64x2_pmax,
    i32x4_trunc_sat_f32x4_s,
    i32x4_trunc_sat_f32x4_u,
    f32x4_convert_i32x4_s,
    f32x4_convert_i32x4_u,
    i32x4_trunc_sat_f64x2_s_zero,
    i32x4_trunc_sat_f64x2_u_zero,
    f64x2_convert_low_i32x4_s,
    f64x2_convert_low_i32x4_u,
    i8x16_relaxed_swizzle,
    i32x4_relaxed_trunc_f32x4_s,
    i32x4_relaxed_trunc_f32x4_u,
    i32x4_relaxed_trunc_f64x2_s_zero,
    i32x4_relaxed_trunc_f64x2_u_zero,
    f32x4_relaxed_madd,
    f32x4_relaxed_nmadd,
    f64x2_relaxed_madd,
    f64x2_relaxed_nmadd,
    i8x16_relaxed_laneselect,
    i16x8_relaxed_laneselect,
    i32x4_relaxed_laneselect,
    i64x2_relaxed_laneselect,
    f32x4_relaxed_min,
    f32x4_relaxed_max,
    f64x2_relaxed_min,
    f64x2_relaxed_max,
    i16x8_relaxed_q15mulr_s,
    i16x8_relaxed_dot_i8x16_i7x16_s,
    i32x4_relaxed_dot_i8x16_i7x16_add_s,

    pub fn format(
        self: *const Inst,
        writer: *std.Io.Writer,
    ) std.Io.Writer.Error!void {
        switch (self.*) {
            .block => |*val| try val.format(writer),
            .loop => |*val| try val.format(writer),
            .@"if" => |*val| try val.format(writer),
            .br => |val| try writer.print(" {}", .{val}),
            .br_if => |val| try writer.print(" {}", .{val}),
            .br_table => |*val| try val.format(writer),
            .call => |val| try writer.print(" {}", .{val}),
            .call_indirect => |*val| try val.format(writer),
            .return_call => |val| try writer.print(" {}", .{val}),
            .return_call_indirect => |*val| try val.format(writer),
            .select_t => |*val| try val.format(writer),
            .local_get => |val| try writer.print(" {}", .{val}),
            .local_set => |val| try writer.print(" {}", .{val}),
            .local_tee => |val| try writer.print(" {}", .{val}),
            .global_get => |val| try writer.print(" {}", .{val}),
            .global_set => |val| try writer.print(" {}", .{val}),
            .i32_load => |*val| try val.format(writer),
            .i64_load => |*val| try val.format(writer),
            .f32_load => |*val| try val.format(writer),
            .f64_load => |*val| try val.format(writer),
            .i32_load8_s => |*val| try val.format(writer),
            .i32_load8_u => |*val| try val.format(writer),
            .i32_load16_s => |*val| try val.format(writer),
            .i32_load16_u => |*val| try val.format(writer),
            .i64_load8_s => |*val| try val.format(writer),
            .i64_load8_u => |*val| try val.format(writer),
            .i64_load16_s => |*val| try val.format(writer),
            .i64_load16_u => |*val| try val.format(writer),
            .i64_load32_s => |*val| try val.format(writer),
            .i64_load32_u => |*val| try val.format(writer),
            .i32_store => |*val| try val.format(writer),
            .i64_store => |*val| try val.format(writer),
            .f32_store => |*val| try val.format(writer),
            .f64_store => |*val| try val.format(writer),
            .i32_store8 => |*val| try val.format(writer),
            .i32_store16 => |*val| try val.format(writer),
            .i64_store8 => |*val| try val.format(writer),
            .i64_store16 => |*val| try val.format(writer),
            .i64_store32 => |*val| try val.format(writer),
            .memory_size => |val| try writer.print(" {}", .{val}),
            .memory_grow => |val| try writer.print(" {}", .{val}),
            .i32_const => |val| try writer.print(" {}", .{val}),
            .i64_const => |val| try writer.print(" {}", .{val}),
            .f32_const => |val| try writer.print(" {}", .{val}),
            .f64_const => |val| try writer.print(" {}", .{val}),
            .memory_init => |val| try writer.print(" {}", .{val}),
            .data_drop => |val| try writer.print(" {}", .{val}),
            .table_init => |*val| try val.format(writer),
            .elem_drop => |val| try writer.print(" {}", .{val}),
            .table_copy => |*val| try val.format(writer),
            .table_get => |val| try writer.print(" {}", .{val}),
            .table_set => |val| try writer.print(" {}", .{val}),
            .table_grow => |val| try writer.print(" {}", .{val}),
            .table_size => |val| try writer.print(" {}", .{val}),
            .table_fill => |val| try writer.print(" {}", .{val}),
            .v128_load => |*val| try val.format(writer),
            .v128_load8x8_s => |*val| try val.format(writer),
            .v128_load8x8_u => |*val| try val.format(writer),
            .v128_load16x4_s => |*val| try val.format(writer),
            .v128_load16x4_u => |*val| try val.format(writer),
            .v128_load32x2_s => |*val| try val.format(writer),
            .v128_load32x2_u => |*val| try val.format(writer),
            .v128_load8_splat => |*val| try val.format(writer),
            .v128_load16_splat => |*val| try val.format(writer),
            .v128_load32_splat => |*val| try val.format(writer),
            .v128_load64_splat => |*val| try val.format(writer),
            .v128_store => |*val| try val.format(writer),
            .v128_const => |val| try writer.print(" {}", .{val}),
            .i8x16_shuffle => |*val| try val.format(writer),
            .i8x16_extract_lane_s => |*val| try val.format(writer),
            .i8x16_extract_lane_u => |*val| try val.format(writer),
            .i8x16_replace_lane => |*val| try val.format(writer),
            .i16x8_extract_lane_s => |*val| try val.format(writer),
            .i16x8_extract_lane_u => |*val| try val.format(writer),
            .i16x8_replace_lane => |*val| try val.format(writer),
            .i32x4_extract_lane => |*val| try val.format(writer),
            .i32x4_replace_lane => |*val| try val.format(writer),
            .i64x2_extract_lane => |*val| try val.format(writer),
            .i64x2_replace_lane => |*val| try val.format(writer),
            .f32x4_extract_lane => |*val| try val.format(writer),
            .f32x4_replace_lane => |*val| try val.format(writer),
            .f64x2_extract_lane => |*val| try val.format(writer),
            .f64x2_replace_lane => |*val| try val.format(writer),
            .v128_load8_lane => |*val| try val.format(writer),
            .v128_load16_lane => |*val| try val.format(writer),
            .v128_load32_lane => |*val| try val.format(writer),
            .v128_load64_lane => |*val| try val.format(writer),
            .v128_store8_lane => |*val| try val.format(writer),
            .v128_store16_lane => |*val| try val.format(writer),
            .v128_store32_lane => |*val| try val.format(writer),
            .v128_store64_lane => |*val| try val.format(writer),
            .v128_load32_zero => |*val| try val.format(writer),
            .v128_load64_zero => |*val| try val.format(writer),
            else => {},
        }
    }
};

pub fn name(inst: InstKind) []const u8 {
    return ([_][]const u8{
        "unreachable",
        "nop",
        "block",
        "loop",
        "if",
        "else",
        "end",
        "br",
        "br_if",
        "br_table",
        "return",
        "call",
        "call_indirect",
        "return_call",
        "return_call_indirect",
        "drop",
        "select",
        "select",
        "local.get",
        "local.set",
        "local.tee",
        "global.get",
        "global.set",
        "i32.load",
        "i64.load",
        "f32.load",
        "f64.load",
        "i32.load8_s",
        "i32.load8_u",
        "i32.load16_s",
        "i32.load16_u",
        "i64.load8_s",
        "i64.load8_u",
        "i64.load16_s",
        "i64.load16_u",
        "i64.load32_s",
        "i64.load32_u",
        "i32.store",
        "i64.store",
        "f32.store",
        "f64.store",
        "i32.store8",
        "i32.store16",
        "i64.store8",
        "i64.store16",
        "i64.store32",
        "memory.size",
        "memory.grow",
        "i32.const",
        "i64.const",
        "f32.const",
        "f64.const",
        "i32.eqz",
        "i32.eq",
        "i32.ne",
        "i32.lt_s",
        "i32.lt_u",
        "i32.gt_s",
        "i32.gt_u",
        "i32.le_s",
        "i32.le_u",
        "i32.ge_s",
        "i32.ge_u",
        "i64.eqz",
        "i64.eq",
        "i64.ne",
        "i64.lt_s",
        "i64.lt_u",
        "i64.gt_s",
        "i64.gt_u",
        "i64.le_s",
        "i64.le_u",
        "i64.ge_s",
        "i64.ge_u",
        "f32.eq",
        "f32.ne",
        "f32.lt",
        "f32.gt",
        "f32.le",
        "f32.ge",
        "f64.eq",
        "f64.ne",
        "f64.lt",
        "f64.gt",
        "f64.le",
        "f64.ge",
        "i32.clz",
        "i32.ctz",
        "i32.popcnt",
        "i32.add",
        "i32.sub",
        "i32.mul",
        "i32.div_s",
        "i32.div_u",
        "i32.rem_s",
        "i32.rem_u",
        "i32.and",
        "i32.or",
        "i32.xor",
        "i32.shl",
        "i32.shr_s",
        "i32.shr_u",
        "i32.rotl",
        "i32.rotr",
        "i64.clz",
        "i64.ctz",
        "i64.popcnt",
        "i64.add",
        "i64.sub",
        "i64.mul",
        "i64.div_s",
        "i64.div_u",
        "i64.rem_s",
        "i64.rem_u",
        "i64.and",
        "i64.or",
        "i64.xor",
        "i64.shl",
        "i64.shr_s",
        "i64.shr_u",
        "i64.rotl",
        "i64.rotr",
        "f32.abs",
        "f32.neg",
        "f32.ceil",
        "f32.floor",
        "f32.trunc",
        "f32.nearest",
        "f32.sqrt",
        "f32.add",
        "f32.sub",
        "f32.mul",
        "f32.div",
        "f32.min",
        "f32.max",
        "f32.copysign",
        "f64.abs",
        "f64.neg",
        "f64.ceil",
        "f64.floor",
        "f64.trunc",
        "f64.nearest",
        "f64.sqrt",
        "f64.add",
        "f64.sub",
        "f64.mul",
        "f64.div",
        "f64.min",
        "f64.max",
        "f64.copysign",
        "i32.wrap_i64",
        "i32.trunc_f32_s",
        "i32.trunc_f32_u",
        "i32.trunc_f64_s",
        "i32.trunc_f64_u",
        "i64.extend_i32_s",
        "i64.extend_i32_u",
        "i64.trunc_f32_s",
        "i64.trunc_f32_u",
        "i64.trunc_f64_s",
        "i64.trunc_f64_u",
        "f32.convert_i32_s",
        "f32.convert_i32_u",
        "f32.convert_i64_s",
        "f32.convert_i64_u",
        "f32.demote_f64",
        "f64.convert_i32_s",
        "f64.convert_i32_u",
        "f64.convert_i64_s",
        "f64.convert_i64_u",
        "f64.promote_f32",
        "i32.reinterpret_f32",
        "i64.reinterpret_f64",
        "f32.reinterpret_i32",
        "f64.reinterpret_i64",
        "i32.extend8_s",
        "i32.extend16_s",
        "i64.extend8_s",
        "i64.extend16_s",
        "i64.extend32_s",
        "i32.trunc_sat_f32_s",
        "i32.trunc_sat_f32_u",
        "i32.trunc_sat_f64_s",
        "i32.trunc_sat_f64_u",
        "i64.trunc_sat_f32_s",
        "i64.trunc_sat_f32_u",
        "i64.trunc_sat_f64_s",
        "i64.trunc_sat_f64_u",
        "memory.init",
        "data.drop",
        "memory.copy",
        "memory.fill",
        "table.init",
        "elem.drop",
        "table.copy",
        "table.get",
        "table.set",
        "table.grow",
        "table.size",
        "table.fill",
        "v128.load",
        "v128.load8x8_s",
        "v128.load8x8_u",
        "v128.load16x4_s",
        "v128.load16x4_u",
        "v128.load32x2_s",
        "v128.load32x2_u",
        "v128.load8_splat",
        "v128.load16_splat",
        "v128.load32_splat",
        "v128.load64_splat",
        "v128.store",
        "v128.const",
        "i8x16.shuffle",
        "i8x16.swizzle",
        "i8x16.splat",
        "i16x8.splat",
        "i32x4.splat",
        "i64x2.splat",
        "f32x4.splat",
        "f64x2.splat",
        "i8x16.extract_lane_s",
        "i8x16.extract_lane_u",
        "i8x16.replace_lane",
        "i16x8.extract_lane_s",
        "i16x8.extract_lane_u",
        "i16x8.replace_lane",
        "i32x4.extract_lane",
        "i32x4.replace_lane",
        "i64x2.extract_lane",
        "i64x2.replace_lane",
        "f32x4.extract_lane",
        "f32x4.replace_lane",
        "f64x2.extract_lane",
        "f64x2.replace_lane",
        "i8x16.eq",
        "i8x16.ne",
        "i8x16.lt_s",
        "i8x16.lt_u",
        "i8x16.gt_s",
        "i8x16.gt_u",
        "i8x16.le_s",
        "i8x16.le_u",
        "i8x16.ge_s",
        "i8x16.ge_u",
        "i16x8.eq",
        "i16x8.ne",
        "i16x8.lt_s",
        "i16x8.lt_u",
        "i16x8.gt_s",
        "i16x8.gt_u",
        "i16x8.le_s",
        "i16x8.le_u",
        "i16x8.ge_s",
        "i16x8.ge_u",
        "i32x4.eq",
        "i32x4.ne",
        "i32x4.lt_s",
        "i32x4.lt_u",
        "i32x4.gt_s",
        "i32x4.gt_u",
        "i32x4.le_s",
        "i32x4.le_u",
        "i32x4.ge_s",
        "i32x4.ge_u",
        "f32x4.eq",
        "f32x4.ne",
        "f32x4.lt",
        "f32x4.gt",
        "f32x4.le",
        "f32x4.ge",
        "f64x2.eq",
        "f64x2.ne",
        "f64x2.lt",
        "f64x2.gt",
        "f64x2.le",
        "f64x2.ge",
        "v128.not",
        "v128.and",
        "v128.andnot",
        "v128.or",
        "v128.xor",
        "v128.bitselect",
        "v128.any_true",
        "v128.load8_lane",
        "v128.load16_lane",
        "v128.load32_lane",
        "v128.load64_lane",
        "v128.store8_lane",
        "v128.store16_lane",
        "v128.store32_lane",
        "v128.store64_lane",
        "v128.load32_zero",
        "v128.load64_zero",
        "f32x4.demote_f64x2_zero",
        "f64x2.promote_low_f32x4",
        "i8x16.abs",
        "i8x16.neg",
        "i8x16.popcnt",
        "i8x16.all_true",
        "i8x16.bitmask",
        "i8x16.narrow_i16x8_s",
        "i8x16.narrow_i16x8_u",
        "i8x16.shl",
        "i8x16.shr_s",
        "i8x16.shr_u",
        "i8x16.add",
        "i8x16.add_sat_s",
        "i8x16.add_sat_u",
        "i8x16.sub",
        "i8x16.sub_sat_s",
        "i8x16.sub_sat_u",
        "i8x16.min_s",
        "i8x16.min_u",
        "i8x16.max_s",
        "i8x16.max_u",
        "i8x16.avgr_u",
        "i16x8.extadd_pairwise_i8x16_s",
        "i16x8.extadd_pairwise_i8x16_u",
        "i32x4.extadd_pairwise_i16x8_s",
        "i32x4.extadd_pairwise_i16x8_u",
        "i16x8.abs",
        "i16x8.neg",
        "i16x8.q15mulr_sat_s",
        "i16x8.all_true",
        "i16x8.bitmask",
        "i16x8.narrow_i32x4_s",
        "i16x8.narrow_i32x4_u",
        "i16x8.extend_low_i8x16_s",
        "i16x8.extend_high_i8x16_s",
        "i16x8.extend_low_i8x16_u",
        "i16x8.extend_high_i8x16_u",
        "i16x8.shl",
        "i16x8.shr_s",
        "i16x8.shr_u",
        "i16x8.add",
        "i16x8.add_sat_s",
        "i16x8.add_sat_u",
        "i16x8.sub",
        "i16x8.sub_sat_s",
        "i16x8.sub_sat_u",
        "i16x8.mul",
        "i16x8.min_s",
        "i16x8.min_u",
        "i16x8.max_s",
        "i16x8.max_u",
        "i16x8.avgr_u",
        "i16x8.extmul_low_i8x16_s",
        "i16x8.extmul_high_i8x16_s",
        "i16x8.extmul_low_i8x16_u",
        "i16x8.extmul_high_i8x16_u",
        "i32x4.abs",
        "i32x4.neg",
        "i32x4.all_true",
        "i32x4.bitmask",
        "i32x4.extend_low_i16x8_s",
        "i32x4.extend_high_i16x8_s",
        "i32x4.extend_low_i16x8_u",
        "i32x4.extend_high_i16x8_u",
        "i32x4.shl",
        "i32x4.shr_s",
        "i32x4.shr_u",
        "i32x4.add",
        "i32x4.sub",
        "i32x4.mul",
        "i32x4.min_s",
        "i32x4.min_u",
        "i32x4.max_s",
        "i32x4.max_u",
        "i32x4.dot_i16x8_s",
        "i32x4.extmul_low_i16x8_s",
        "i32x4.extmul_high_i16x8_s",
        "i32x4.extmul_low_i16x8_u",
        "i32x4.extmul_high_i16x8_u",
        "i64x2.abs",
        "i64x2.neg",
        "i64x2.all_true",
        "i64x2.bitmask",
        "i64x2.extend_low_i32x4_s",
        "i64x2.extend_high_i32x4_s",
        "i64x2.extend_low_i32x4_u",
        "i64x2.extend_high_i32x4_u",
        "i64x2.shl",
        "i64x2.shr_s",
        "i64x2.shr_u",
        "i64x2.add",
        "i64x2.sub",
        "i64x2.mul",
        "i64x2.eq",
        "i64x2.ne",
        "i64x2.lt_s",
        "i64x2.gt_s",
        "i64x2.le_s",
        "i64x2.ge_s",
        "i64x2.extmul_low_i32x4_s",
        "i64x2.extmul_high_i32x4_s",
        "i64x2.extmul_low_i32x4_u",
        "i64x2.extmul_high_i32x4_u",
        "f32x4.ceil",
        "f32x4.floor",
        "f32x4.trunc",
        "f32x4.nearest",
        "f64x2.ceil",
        "f64x2.floor",
        "f64x2.trunc",
        "f64x2.nearest",
        "f32x4.abs",
        "f32x4.neg",
        "f32x4.sqrt",
        "f32x4.add",
        "f32x4.sub",
        "f32x4.mul",
        "f32x4.div",
        "f32x4.min",
        "f32x4.max",
        "f32x4.pmin",
        "f32x4.pmax",
        "f64x2.abs",
        "f64x2.neg",
        "f64x2.sqrt",
        "f64x2.add",
        "f64x2.sub",
        "f64x2.mul",
        "f64x2.div",
        "f64x2.min",
        "f64x2.max",
        "f64x2.pmin",
        "f64x2.pmax",
        "i32x4.trunc_sat_f32x4_s",
        "i32x4.trunc_sat_f32x4_u",
        "f32x4.convert_i32x4_s",
        "f32x4.convert_i32x4_u",
        "i32x4.trunc_sat_f64x2_s_zero",
        "i32x4.trunc_sat_f64x2_u_zero",
        "f64x2.convert_low_i32x4_s",
        "f64x2.convert_low_i32x4_u",
        "i8x16.relaxed_swizzle",
        "i32x4.relaxed_trunc_f32x4_s",
        "i32x4.relaxed_trunc_f32x4_u",
        "i32x4.relaxed_trunc_f64x2_s_zero",
        "i32x4.relaxed_trunc_f64x2_u_zero",
        "f32x4.relaxed_madd",
        "f32x4.relaxed_nmadd",
        "f64x2.relaxed_madd",
        "f64x2.relaxed_nmadd",
        "i8x16.relaxed_laneselect",
        "i16x8.relaxed_laneselect",
        "i32x4.relaxed_laneselect",
        "i64x2.relaxed_laneselect",
        "f32x4.relaxed_min",
        "f32x4.relaxed_max",
        "f64x2.relaxed_min",
        "f64x2.relaxed_max",
        "i16x8.relaxed_q15mulr_s",
        "i16x8.relaxed_dot_i8x16_i7x16_s",
        "i32x4.relaxed_dot_i8x16_i7x16_add_s",
    })[@intFromEnum(inst)];
}

pub fn parse(reader: *Reader) !Inst {
    return switch (try reader.read(u8)) {
        0x0 => .@"unreachable",
        0x1 => .nop,
        0x2 => .{ .block = try data.BlockType.read(reader) },
        0x3 => .{ .loop = try data.BlockType.read(reader) },
        0x4 => .{ .@"if" = try data.BlockType.read(reader) },
        0x5 => .@"else",
        0xB => .end,
        0xC => .{ .br = try reader.readLeb(u32) },
        0xD => .{ .br_if = try reader.readLeb(u32) },
        0xE => .{ .br_table = try data.BrTable.read(reader) },
        0xF => .@"return",
        0x10 => .{ .call = try reader.readLeb(u32) },
        0x11 => .{ .call_indirect = try data.TableOp.read(reader) },
        0x12 => .{ .return_call = try reader.readLeb(u32) },
        0x13 => .{ .return_call_indirect = try data.TableOp.read(reader) },
        0x1A => .drop,
        0x1B => .select,
        0x1C => .{ .select_t = try data.SelectT.read(reader) },
        0x20 => .{ .local_get = try reader.readLeb(u32) },
        0x21 => .{ .local_set = try reader.readLeb(u32) },
        0x22 => .{ .local_tee = try reader.readLeb(u32) },
        0x23 => .{ .global_get = try reader.readLeb(u32) },
        0x24 => .{ .global_set = try reader.readLeb(u32) },
        0x25 => .{ .table_get = try reader.readLeb(u32) },
        0x26 => .{ .table_set = try reader.readLeb(u32) },
        0x28 => .{ .i32_load = try data.MemOp.read(reader) },
        0x29 => .{ .i64_load = try data.MemOp.read(reader) },
        0x2A => .{ .f32_load = try data.MemOp.read(reader) },
        0x2B => .{ .f64_load = try data.MemOp.read(reader) },
        0x2C => .{ .i32_load8_s = try data.MemOp.read(reader) },
        0x2D => .{ .i32_load8_u = try data.MemOp.read(reader) },
        0x2E => .{ .i32_load16_s = try data.MemOp.read(reader) },
        0x2F => .{ .i32_load16_u = try data.MemOp.read(reader) },
        0x30 => .{ .i64_load8_s = try data.MemOp.read(reader) },
        0x31 => .{ .i64_load8_u = try data.MemOp.read(reader) },
        0x32 => .{ .i64_load16_s = try data.MemOp.read(reader) },
        0x33 => .{ .i64_load16_u = try data.MemOp.read(reader) },
        0x34 => .{ .i64_load32_s = try data.MemOp.read(reader) },
        0x35 => .{ .i64_load32_u = try data.MemOp.read(reader) },
        0x36 => .{ .i32_store = try data.MemOp.read(reader) },
        0x37 => .{ .i64_store = try data.MemOp.read(reader) },
        0x38 => .{ .f32_store = try data.MemOp.read(reader) },
        0x39 => .{ .f64_store = try data.MemOp.read(reader) },
        0x3A => .{ .i32_store8 = try data.MemOp.read(reader) },
        0x3B => .{ .i32_store16 = try data.MemOp.read(reader) },
        0x3C => .{ .i64_store8 = try data.MemOp.read(reader) },
        0x3D => .{ .i64_store16 = try data.MemOp.read(reader) },
        0x3E => .{ .i64_store32 = try data.MemOp.read(reader) },
        0x3F => .{ .memory_size = try reader.readLeb(u32) },
        0x40 => .{ .memory_grow = try reader.readLeb(u32) },
        0x41 => .{ .i32_const = try reader.readLeb(i32) },
        0x42 => .{ .i64_const = try reader.readLeb(i64) },
        0x43 => .{ .f32_const = try reader.read(f32) },
        0x44 => .{ .f64_const = try reader.read(f64) },
        0x45 => .i32_eqz,
        0x46 => .i32_eq,
        0x47 => .i32_ne,
        0x48 => .i32_lt_s,
        0x49 => .i32_lt_u,
        0x4A => .i32_gt_s,
        0x4B => .i32_gt_u,
        0x4C => .i32_le_s,
        0x4D => .i32_le_u,
        0x4E => .i32_ge_s,
        0x4F => .i32_ge_u,
        0x50 => .i64_eqz,
        0x51 => .i64_eq,
        0x52 => .i64_ne,
        0x53 => .i64_lt_s,
        0x54 => .i64_lt_u,
        0x55 => .i64_gt_s,
        0x56 => .i64_gt_u,
        0x57 => .i64_le_s,
        0x58 => .i64_le_u,
        0x59 => .i64_ge_s,
        0x5A => .i64_ge_u,
        0x5B => .f32_eq,
        0x5C => .f32_ne,
        0x5D => .f32_lt,
        0x5E => .f32_gt,
        0x5F => .f32_le,
        0x60 => .f32_ge,
        0x61 => .f64_eq,
        0x62 => .f64_ne,
        0x63 => .f64_lt,
        0x64 => .f64_gt,
        0x65 => .f64_le,
        0x66 => .f64_ge,
        0x67 => .i32_clz,
        0x68 => .i32_ctz,
        0x69 => .i32_popcnt,
        0x6A => .i32_add,
        0x6B => .i32_sub,
        0x6C => .i32_mul,
        0x6D => .i32_div_s,
        0x6E => .i32_div_u,
        0x6F => .i32_rem_s,
        0x70 => .i32_rem_u,
        0x71 => .i32_and,
        0x72 => .i32_or,
        0x73 => .i32_xor,
        0x74 => .i32_shl,
        0x75 => .i32_shr_s,
        0x76 => .i32_shr_u,
        0x77 => .i32_rotl,
        0x78 => .i32_rotr,
        0x79 => .i64_clz,
        0x7A => .i64_ctz,
        0x7B => .i64_popcnt,
        0x7C => .i64_add,
        0x7D => .i64_sub,
        0x7E => .i64_mul,
        0x7F => .i64_div_s,
        0x80 => .i64_div_u,
        0x81 => .i64_rem_s,
        0x82 => .i64_rem_u,
        0x83 => .i64_and,
        0x84 => .i64_or,
        0x85 => .i64_xor,
        0x86 => .i64_shl,
        0x87 => .i64_shr_s,
        0x88 => .i64_shr_u,
        0x89 => .i64_rotl,
        0x8A => .i64_rotr,
        0x8B => .f32_abs,
        0x8C => .f32_neg,
        0x8D => .f32_ceil,
        0x8E => .f32_floor,
        0x8F => .f32_trunc,
        0x90 => .f32_nearest,
        0x91 => .f32_sqrt,
        0x92 => .f32_add,
        0x93 => .f32_sub,
        0x94 => .f32_mul,
        0x95 => .f32_div,
        0x96 => .f32_min,
        0x97 => .f32_max,
        0x98 => .f32_copysign,
        0x99 => .f64_abs,
        0x9A => .f64_neg,
        0x9B => .f64_ceil,
        0x9C => .f64_floor,
        0x9D => .f64_trunc,
        0x9E => .f64_nearest,
        0x9F => .f64_sqrt,
        0xA0 => .f64_add,
        0xA1 => .f64_sub,
        0xA2 => .f64_mul,
        0xA3 => .f64_div,
        0xA4 => .f64_min,
        0xA5 => .f64_max,
        0xA6 => .f64_copysign,
        0xA7 => .i32_wrap_i64,
        0xA8 => .i32_trunc_f32_s,
        0xA9 => .i32_trunc_f32_u,
        0xAA => .i32_trunc_f64_s,
        0xAB => .i32_trunc_f64_u,
        0xAC => .i64_extend_i32_s,
        0xAD => .i64_extend_i32_u,
        0xAE => .i64_trunc_f32_s,
        0xAF => .i64_trunc_f32_u,
        0xB0 => .i64_trunc_f64_s,
        0xB1 => .i64_trunc_f64_u,
        0xB2 => .f32_convert_i32_s,
        0xB3 => .f32_convert_i32_u,
        0xB4 => .f32_convert_i64_s,
        0xB5 => .f32_convert_i64_u,
        0xB6 => .f32_demote_f64,
        0xB7 => .f64_convert_i32_s,
        0xB8 => .f64_convert_i32_u,
        0xB9 => .f64_convert_i64_s,
        0xBA => .f64_convert_i64_u,
        0xBB => .f64_promote_f32,
        0xBC => .i32_reinterpret_f32,
        0xBD => .i64_reinterpret_f64,
        0xBE => .f32_reinterpret_i32,
        0xBF => .f64_reinterpret_i64,
        0xC0 => .i32_extend8_s,
        0xC1 => .i32_extend16_s,
        0xC2 => .i64_extend8_s,
        0xC3 => .i64_extend16_s,
        0xC4 => .i64_extend32_s,
        0xFC => switch (try reader.readLeb(u32)) {
            0x0 => .i32_trunc_sat_f32_s,
            0x1 => .i32_trunc_sat_f32_u,
            0x2 => .i32_trunc_sat_f64_s,
            0x3 => .i32_trunc_sat_f64_u,
            0x4 => .i64_trunc_sat_f32_s,
            0x5 => .i64_trunc_sat_f32_u,
            0x6 => .i64_trunc_sat_f64_s,
            0x7 => .i64_trunc_sat_f64_u,
            0x8 => .{ .memory_init = try reader.readLeb(u32) },
            0x9 => .{ .data_drop = try reader.readLeb(u32) },
            0xA => .memory_copy,
            0xB => .memory_fill,
            0xC => .{ .table_init = try data.TableOp.read(reader) },
            0xD => .{ .elem_drop = try reader.readLeb(u32) },
            0xE => .{ .table_copy = try data.TableOp.read(reader) },
            0xF => .{ .table_grow = try reader.readLeb(u32) },
            0x10 => .{ .table_size = try reader.readLeb(u32) },
            0x11 => .{ .table_fill = try reader.readLeb(u32) },
            else => error.ParseError,
        },
        0xFD => switch (try reader.readLeb(u32)) {
            0x0 => .{ .v128_load = try data.MemOp.read(reader) },
            0x1 => .{ .v128_load8x8_s = try data.MemOp.read(reader) },
            0x2 => .{ .v128_load8x8_u = try data.MemOp.read(reader) },
            0x3 => .{ .v128_load16x4_s = try data.MemOp.read(reader) },
            0x4 => .{ .v128_load16x4_u = try data.MemOp.read(reader) },
            0x5 => .{ .v128_load32x2_s = try data.MemOp.read(reader) },
            0x6 => .{ .v128_load32x2_u = try data.MemOp.read(reader) },
            0x7 => .{ .v128_load8_splat = try data.MemOp.read(reader) },
            0x8 => .{ .v128_load16_splat = try data.MemOp.read(reader) },
            0x9 => .{ .v128_load32_splat = try data.MemOp.read(reader) },
            0xA => .{ .v128_load64_splat = try data.MemOp.read(reader) },
            0xB => .{ .v128_store = try data.MemOp.read(reader) },
            0xC => .{ .v128_const = try reader.read(u128) },
            0xD => .{ .i8x16_shuffle = try data.VecShuffle.read(reader) },
            0xE => .i8x16_swizzle,
            0xF => .i8x16_splat,
            0x10 => .i16x8_splat,
            0x11 => .i32x4_splat,
            0x12 => .i64x2_splat,
            0x13 => .f32x4_splat,
            0x14 => .f64x2_splat,
            0x15 => .{ .i8x16_extract_lane_s = try data.LaneOp.read(reader) },
            0x16 => .{ .i8x16_extract_lane_u = try data.LaneOp.read(reader) },
            0x17 => .{ .i8x16_replace_lane = try data.LaneOp.read(reader) },
            0x18 => .{ .i16x8_extract_lane_s = try data.LaneOp.read(reader) },
            0x19 => .{ .i16x8_extract_lane_u = try data.LaneOp.read(reader) },
            0x1A => .{ .i16x8_replace_lane = try data.LaneOp.read(reader) },
            0x1B => .{ .i32x4_extract_lane = try data.LaneOp.read(reader) },
            0x1C => .{ .i32x4_replace_lane = try data.LaneOp.read(reader) },
            0x1D => .{ .i64x2_extract_lane = try data.LaneOp.read(reader) },
            0x1E => .{ .i64x2_replace_lane = try data.LaneOp.read(reader) },
            0x1F => .{ .f32x4_extract_lane = try data.LaneOp.read(reader) },
            0x20 => .{ .f32x4_replace_lane = try data.LaneOp.read(reader) },
            0x21 => .{ .f64x2_extract_lane = try data.LaneOp.read(reader) },
            0x22 => .{ .f64x2_replace_lane = try data.LaneOp.read(reader) },
            0x23 => .i8x16_eq,
            0x24 => .i8x16_ne,
            0x25 => .i8x16_lt_s,
            0x26 => .i8x16_lt_u,
            0x27 => .i8x16_gt_s,
            0x28 => .i8x16_gt_u,
            0x29 => .i8x16_le_s,
            0x2A => .i8x16_le_u,
            0x2B => .i8x16_ge_s,
            0x2C => .i8x16_ge_u,
            0x2D => .i16x8_eq,
            0x2E => .i16x8_ne,
            0x2F => .i16x8_lt_s,
            0x30 => .i16x8_lt_u,
            0x31 => .i16x8_gt_s,
            0x32 => .i16x8_gt_u,
            0x33 => .i16x8_le_s,
            0x34 => .i16x8_le_u,
            0x35 => .i16x8_ge_s,
            0x36 => .i16x8_ge_u,
            0x37 => .i32x4_eq,
            0x38 => .i32x4_ne,
            0x39 => .i32x4_lt_s,
            0x3A => .i32x4_lt_u,
            0x3B => .i32x4_gt_s,
            0x3C => .i32x4_gt_u,
            0x3D => .i32x4_le_s,
            0x3E => .i32x4_le_u,
            0x3F => .i32x4_ge_s,
            0x40 => .i32x4_ge_u,
            0x41 => .f32x4_eq,
            0x42 => .f32x4_ne,
            0x43 => .f32x4_lt,
            0x44 => .f32x4_gt,
            0x45 => .f32x4_le,
            0x46 => .f32x4_ge,
            0x47 => .f64x2_eq,
            0x48 => .f64x2_ne,
            0x49 => .f64x2_lt,
            0x4A => .f64x2_gt,
            0x4B => .f64x2_le,
            0x4C => .f64x2_ge,
            0x4D => .v128_not,
            0x4E => .v128_and,
            0x4F => .v128_andnot,
            0x50 => .v128_or,
            0x51 => .v128_xor,
            0x52 => .v128_bitselect,
            0x53 => .v128_any_true,
            0x54 => .{ .v128_load8_lane = try data.MemLaneOp.read(reader) },
            0x55 => .{ .v128_load16_lane = try data.MemLaneOp.read(reader) },
            0x56 => .{ .v128_load32_lane = try data.MemLaneOp.read(reader) },
            0x57 => .{ .v128_load64_lane = try data.MemLaneOp.read(reader) },
            0x58 => .{ .v128_store8_lane = try data.MemLaneOp.read(reader) },
            0x59 => .{ .v128_store16_lane = try data.MemLaneOp.read(reader) },
            0x5A => .{ .v128_store32_lane = try data.MemLaneOp.read(reader) },
            0x5B => .{ .v128_store64_lane = try data.MemLaneOp.read(reader) },
            0x5C => .{ .v128_load32_zero = try data.MemOp.read(reader) },
            0x5D => .{ .v128_load64_zero = try data.MemOp.read(reader) },
            0x5E => .f32x4_demote_f64x2_zero,
            0x5F => .f64x2_promote_low_f32x4,
            0x60 => .i8x16_abs,
            0x61 => .i8x16_neg,
            0x62 => .i8x16_popcnt,
            0x63 => .i8x16_all_true,
            0x64 => .i8x16_bitmask,
            0x65 => .i8x16_narrow_i16x8_s,
            0x66 => .i8x16_narrow_i16x8_u,
            0x67 => .f32x4_ceil,
            0x68 => .f32x4_floor,
            0x69 => .f32x4_trunc,
            0x6A => .f32x4_nearest,
            0x6B => .i8x16_shl,
            0x6C => .i8x16_shr_s,
            0x6D => .i8x16_shr_u,
            0x6E => .i8x16_add,
            0x6F => .i8x16_add_sat_s,
            0x70 => .i8x16_add_sat_u,
            0x71 => .i8x16_sub,
            0x72 => .i8x16_sub_sat_s,
            0x73 => .i8x16_sub_sat_u,
            0x74 => .f64x2_ceil,
            0x75 => .f64x2_floor,
            0x76 => .i8x16_min_s,
            0x77 => .i8x16_min_u,
            0x78 => .i8x16_max_s,
            0x79 => .i8x16_max_u,
            0x7A => .f64x2_trunc,
            0x7B => .i8x16_avgr_u,
            0x7C => .i16x8_extadd_pairwise_i8x16_s,
            0x7D => .i16x8_extadd_pairwise_i8x16_u,
            0x7E => .i32x4_extadd_pairwise_i16x8_s,
            0x7F => .i32x4_extadd_pairwise_i16x8_u,
            0x80 => .i16x8_abs,
            0x81 => .i16x8_neg,
            0x82 => .i16x8_q15mulr_sat_s,
            0x83 => .i16x8_all_true,
            0x84 => .i16x8_bitmask,
            0x85 => .i16x8_narrow_i32x4_s,
            0x86 => .i16x8_narrow_i32x4_u,
            0x87 => .i16x8_extend_low_i8x16_s,
            0x88 => .i16x8_extend_high_i8x16_s,
            0x89 => .i16x8_extend_low_i8x16_u,
            0x8A => .i16x8_extend_high_i8x16_u,
            0x8B => .i16x8_shl,
            0x8C => .i16x8_shr_s,
            0x8D => .i16x8_shr_u,
            0x8E => .i16x8_add,
            0x8F => .i16x8_add_sat_s,
            0x90 => .i16x8_add_sat_u,
            0x91 => .i16x8_sub,
            0x92 => .i16x8_sub_sat_s,
            0x93 => .i16x8_sub_sat_u,
            0x94 => .f64x2_nearest,
            0x95 => .i16x8_mul,
            0x96 => .i16x8_min_s,
            0x97 => .i16x8_min_u,
            0x98 => .i16x8_max_s,
            0x99 => .i16x8_max_u,
            0x9B => .i16x8_avgr_u,
            0x9C => .i16x8_extmul_low_i8x16_s,
            0x9D => .i16x8_extmul_high_i8x16_s,
            0x9E => .i16x8_extmul_low_i8x16_u,
            0x9F => .i16x8_extmul_high_i8x16_u,
            0xA0 => .i32x4_abs,
            0xA1 => .i32x4_neg,
            0xA3 => .i32x4_all_true,
            0xA4 => .i32x4_bitmask,
            0xA7 => .i32x4_extend_low_i16x8_s,
            0xA8 => .i32x4_extend_high_i16x8_s,
            0xA9 => .i32x4_extend_low_i16x8_u,
            0xAA => .i32x4_extend_high_i16x8_u,
            0xAB => .i32x4_shl,
            0xAC => .i32x4_shr_s,
            0xAD => .i32x4_shr_u,
            0xAE => .i32x4_add,
            0xB1 => .i32x4_sub,
            0xB5 => .i32x4_mul,
            0xB6 => .i32x4_min_s,
            0xB7 => .i32x4_min_u,
            0xB8 => .i32x4_max_s,
            0xB9 => .i32x4_max_u,
            0xBA => .i32x4_dot_i16x8_s,
            0xBC => .i32x4_extmul_low_i16x8_s,
            0xBD => .i32x4_extmul_high_i16x8_s,
            0xBE => .i32x4_extmul_low_i16x8_u,
            0xBF => .i32x4_extmul_high_i16x8_u,
            0xC0 => .i64x2_abs,
            0xC1 => .i64x2_neg,
            0xC3 => .i64x2_all_true,
            0xC4 => .i64x2_bitmask,
            0xC7 => .i64x2_extend_low_i32x4_s,
            0xC8 => .i64x2_extend_high_i32x4_s,
            0xC9 => .i64x2_extend_low_i32x4_u,
            0xCA => .i64x2_extend_high_i32x4_u,
            0xCB => .i64x2_shl,
            0xCC => .i64x2_shr_s,
            0xCD => .i64x2_shr_u,
            0xCE => .i64x2_add,
            0xD1 => .i64x2_sub,
            0xD5 => .i64x2_mul,
            0xD6 => .i64x2_eq,
            0xD7 => .i64x2_ne,
            0xD8 => .i64x2_lt_s,
            0xD9 => .i64x2_gt_s,
            0xDA => .i64x2_le_s,
            0xDB => .i64x2_ge_s,
            0xDC => .i64x2_extmul_low_i32x4_s,
            0xDD => .i64x2_extmul_high_i32x4_s,
            0xDE => .i64x2_extmul_low_i32x4_u,
            0xDF => .i64x2_extmul_high_i32x4_u,
            0xE0 => .f32x4_abs,
            0xE1 => .f32x4_neg,
            0xE3 => .f32x4_sqrt,
            0xE4 => .f32x4_add,
            0xE5 => .f32x4_sub,
            0xE6 => .f32x4_mul,
            0xE7 => .f32x4_div,
            0xE8 => .f32x4_min,
            0xE9 => .f32x4_max,
            0xEA => .f32x4_pmin,
            0xEB => .f32x4_pmax,
            0xEC => .f64x2_abs,
            0xED => .f64x2_neg,
            0xEF => .f64x2_sqrt,
            0xF0 => .f64x2_add,
            0xF1 => .f64x2_sub,
            0xF2 => .f64x2_mul,
            0xF3 => .f64x2_div,
            0xF4 => .f64x2_min,
            0xF5 => .f64x2_max,
            0xF6 => .f64x2_pmin,
            0xF7 => .f64x2_pmax,
            0xF8 => .i32x4_trunc_sat_f32x4_s,
            0xF9 => .i32x4_trunc_sat_f32x4_u,
            0xFA => .f32x4_convert_i32x4_s,
            0xFB => .f32x4_convert_i32x4_u,
            0xFC => .i32x4_trunc_sat_f64x2_s_zero,
            0xFD => .i32x4_trunc_sat_f64x2_u_zero,
            0xFE => .f64x2_convert_low_i32x4_s,
            0xFF => .f64x2_convert_low_i32x4_u,
            0x100 => .i8x16_relaxed_swizzle,
            0x101 => .i32x4_relaxed_trunc_f32x4_s,
            0x102 => .i32x4_relaxed_trunc_f32x4_u,
            0x103 => .i32x4_relaxed_trunc_f64x2_s_zero,
            0x104 => .i32x4_relaxed_trunc_f64x2_u_zero,
            0x105 => .f32x4_relaxed_madd,
            0x106 => .f32x4_relaxed_nmadd,
            0x107 => .f64x2_relaxed_madd,
            0x108 => .f64x2_relaxed_nmadd,
            0x109 => .i8x16_relaxed_laneselect,
            0x10A => .i16x8_relaxed_laneselect,
            0x10B => .i32x4_relaxed_laneselect,
            0x10C => .i64x2_relaxed_laneselect,
            0x10D => .f32x4_relaxed_min,
            0x10E => .f32x4_relaxed_max,
            0x10F => .f64x2_relaxed_min,
            0x110 => .f64x2_relaxed_max,
            0x111 => .i16x8_relaxed_q15mulr_s,
            0x112 => .i16x8_relaxed_dot_i8x16_i7x16_s,
            0x113 => .i32x4_relaxed_dot_i8x16_i7x16_add_s,
            else => error.ParseError,
        },
        else => error.ParseError,
    };
}
